<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biomedic-Go</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Botón de cambio de tema -->
    <button id="theme-toggle" class="theme-toggle-btn" title="Cambiar tema">🌙</button>

    <!-- Título principal -->
    <div class="main-title">
        <h1>Biomedic-Go</h1>
        <p>Gestión y búsqueda de equipos biomédicos</p>
    </div>

    <!-- Barra de búsqueda -->
    <div class="search-bar-wrapper">
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Buscar equipo..." />
            <button id="clear-search" class="clear-search-btn" title="Limpiar búsqueda" style="display:none;">×</button>
        </div>
        <span class="search-icon" tabindex="0">
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="#007bff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="10" cy="10" r="7"/>
                <line x1="16" y1="16" x2="21" y2="21"/>
            </svg>
        </span>
    </div>

    <div id="equipos-count" class="equipos-count"></div>

    <!-- Configuración de paginación -->
    <div class="pagination-settings">
        Mostrar:
        <select id="equipos-per-page">
            <option value="3" selected>3</option>
            <option value="5">5</option>
            <option value="10">10</option>
        </select> equipos por página
    </div>

     <!-- Filtro de favoritos -->
    <div class="favorites-filter-container">
        <label>
            <input type="checkbox" id="show-favorites-only" />
            Mostrar solo favoritos
        </label>
    </div>

    <!-- Acciones globales -->
    <div id="global-equipo-actions" class="global-actions-container hidden">
        <button id="export-csv-btn" class="action-btn">Exportar CSV</button>
        <button id="toggle-add-form" class="action-btn toggle-form-btn">
            <span class="plus-icon">+</span> Agregar Equipo
        </button>
        <button id="import-btn" class="action-btn">Importar Equipos</button>
        <input type="file" id="import-file-input" accept=".csv, .json" style="display: none;">
    </div>

    <!-- Formulario para agregar/editar equipo -->
    <div class="add-equipo-container hidden">
        <form id="add-equipo-form">
            <div class="form-header">
                <h2>Agregar nuevo equipo</h2>
                <button type="button" class="close-form-btn" id="close-add-form">×</button>
            </div>
            <input type="text" id="new-nombre" placeholder="Nombre del equipo" required>
            <input type="text" id="new-marca" placeholder="Marca" required>
            <input type="text" id="new-modelo" placeholder="Modelo" required>
            <input type="text" id="new-numserie" placeholder="Número de serie" required>
            <input type="text" id="new-foto" placeholder="Ej: images/svg_optimizado/descarga (10).svg" required>
            <textarea id="new-descripcion" placeholder="Descripción" required></textarea>
            <button type="submit">Agregar equipo</button>
        </form>
    </div>

    <!-- Contenedor principal de equipos -->
    <div id="equipos-container"></div>

    <!-- Mensajes de estado -->
    <div id="loading-message" class="hidden">Cargando equipos...</div>
    <div id="no-results-message" class="hidden">No se encontraron equipos.</div>
    <div class="count-display" id="selected-equipos-count">Equipos seleccionados: 0</div>
    

    <!-- Controles de paginación -->
    <div class="pagination-container">
        <button id="prev-page">Anterior</button>
        <div id="page-numbers"></div>
        <button id="next-page">Siguiente</button>
    </div>

    <!-- Contenedor de notificaciones -->
    <div id="toast-container"></div>

   

    <!-- Modal de confirmación -->
    <div id="confirm-modal" class="modal hidden">
        <div class="modal-content">
            <p id="confirm-modal-message">¿Seguro que deseas eliminar este equipo?</p>
            <div class="modal-actions">
                <button id="confirm-modal-yes" class="modal-btn modal-btn-yes">Sí</button>
                <button id="confirm-modal-no" class="modal-btn modal-btn-no">No</button>
            </div>
        </div>
    </div>

    <!-- Modal de detalles de equipo -->
    <div id="equipo-detail-modal" class="modal hidden">
        <div class="modal-content">
            <button id="close-detail-modal" class="close-detail-modal" title="Cerrar">×</button>
            <div id="equipo-detail-content"></div>
        </div>
    </div>


<!-- Modal de Contacto/Reporte de Avería -->
<div id="contact-modal" class="modal hidden">
  <div class="modal-content contact-modal-content">
    <button class="close-detail-modal" id="close-contact-modal" title="Cerrar">×</button>
    <h2 class="modal-title">Reporte de Avería de Equipo Médico</h2>
    <form id="contact-form">
      <div class="form-section">
        <h3 class="form-section-title">Datos del equipo</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-fecha">Fecha:</label>
            <input type="date" id="contact-fecha" name="fecha" required>
          </div>
          <div class="form-group">
            <label for="contact-equipo">Equipo:</label>
            <input type="text" id="contact-equipo" name="equipo" readonly>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-marca">Marca:</label>
            <input type="text" id="contact-marca" name="marca" readonly>
          </div>
          <div class="form-group">
            <label for="contact-modelo">Modelo:</label>
            <input type="text" id="contact-modelo" name="modelo" readonly>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-serie">Serie:</label>
            <input type="text" id="contact-serie" name="serie" readonly>
          </div>
          <div class="form-group">
            <label for="contact-ubicacion">Ubicación:</label>
            <input type="text" id="contact-ubicacion" name="ubicacion" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-proveedor">Proveedor:</label>
            <input type="text" id="contact-proveedor" name="proveedor">
          </div>
          <div class="form-group">
            <label for="contact-correo">Se envía correo a:</label>
            <input type="email" id="contact-correo" name="correo">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group full-width">
            <label for="contact-falla">Descripción de la falla o avería:</label>
            <textarea id="contact-falla" name="falla" rows="2" required></textarea>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3 class="form-section-title">Datos del usuario</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-nombre">Nombre:</label>
            <input type="text" id="contact-nombre" name="nombre" required>
          </div>
          <div class="form-group">
            <label for="contact-puesto">Puesto:</label>
            <input type="text" id="contact-puesto" name="puesto">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-matricula">Matrícula:</label>
            <input type="text" id="contact-matricula" name="matricula">
          </div>
        </div>
      </div>

      <button type="submit" class="action-btn">Enviar reporte</button>
    </form>
  </div>
</div>



    <script src="script.js"></script>
</body>
</html>